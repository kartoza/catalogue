{% extends 'userena/base_userena.html' %}
{% load i18n %}

{% block title %}{% trans "Change password" %}{% endblock %}

{% block extrajs %}
{{ block.super }}
<script type="text/javascript">
$(function() {
  $("#id_old_password").focus();
  $("input[type='password']").addClass("text");
});
</script>
{% endblock %}

{% block content_title %}<h2>{% blocktrans with user.username as username %}Account &raquo; {{ username }}{% endblocktrans %}</h2>{% endblock %}

{% block content %}
<div id="content" class="row-fluid">
  <form id="password_change_form" class="form-horizontal span6" action="" method="post" accept-charset="utf-8">
    <fieldset>
      {% csrf_token %}
      <legend>{% trans 'Change Password for' %} {{ user }}</legend>
      <div class="control-group">
        <label class="control-label {% if form.old_password.errors %}errors{% endif %}" for="id_old_password">
          {% trans "Old password:" %}
        </label>
        <div class="controls">
          {{ form.old_password }}
          {% if form.old_password.errors %}
          <span class="inline-help text-error">
            {{ form.old_password.errors|join:"; " }}
          </span>
          {% endif %}
        </div>
      </div>
      <div class="control-group">
        <label class="control-label {% if form.new_password1.errors %}errors{% endif %}" for="id_new_password1">
          {% trans "New password:" %}
        </label>
        <div class="controls">
          {{ form.new_password1 }}
          {% if form.new_password1.errors %}
          <span class="inline-help text-error">
            {{ form.new_password1.errors|join:"; " }}
          </span>
          {% endif %}
        </div>
      </div>
      <div class="control-group {% if form.new_password2.errors %}error{% endif %}">
        <label class="control-label" for="id_new_password2">
          {% trans "Confirm password" %}
        </label>
        <div class="controls">
          {{ form.new_password2 }}
          {% if form.new_password2.errors %}
          <span class="inline-help text-error">
            {{ form.new_password2.errors|join:"; " }}
          </span>
          {% endif %}
        </div>
      </div>
      {% if form.non_field_errors %}
      <p class="text-error">{{ form.non_field_errors.as_ul }}</p>
      {% endif %}
    </fieldset>
    <input class="btn sansa-blue-btn" type="submit" value="{% trans "Submit" %}" />
  </form>
</div>
{% endblock %}
